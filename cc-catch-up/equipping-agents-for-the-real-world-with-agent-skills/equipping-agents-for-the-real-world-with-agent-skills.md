[Anthropicのエンジニアリング](https://www.anthropic.com/engineering)

# Agent Skillsで現実世界に対応したエージェントを構築する

**公開日:** 2025年10月16日

**原文:** https://www.anthropic.com/engineering/equipping-agents-for-the-real-world-with-agent-skills

---

Claudeは強力だが、実際の仕事には手続き的な知識と組織的な文脈が必要だ。Agent Skillsは、ファイルとフォルダーを使用して専門的なエージェントを構築する新しい方法だ。

モデルの能力が向上するにつれて、本格的なコンピューティング環境と対話できる汎用エージェントを構築できるようになった。例えば、[Claude Code](https://claude.com/product/claude-code)は、ローカルコード実行とファイルシステムを使用して、ドメインを横断する複雑なタスクを達成できる。しかし、これらのエージェントがより強力になるにつれて、ドメイン固有の専門知識を装備するための、より構成可能で、スケーラブルで、ポータブルな方法が必要になってくる。

これが、[**Agent Skills**](https://www.anthropic.com/news/skills)を作成するきっかけとなった。これは、エージェントが動的に発見してロードできる、指示、スクリプト、リソースで構成されたフォルダーだ。Skillsは、あなたの専門知識をClaudeのための構成可能なリソースにパッケージ化することで、Claudeの機能を拡張し、汎用エージェントをあなたのニーズに合った専門的なエージェントに変換する。

エージェントのためにスキルを構築することは、新入社員のためのオンボーディングガイドを作成するようなものだ。各ユースケースごとに断片的でカスタム設計されたエージェントを構築する代わりに、誰でも手続き的な知識を捕捉し共有することで、構成可能な機能を使ってエージェントを専門化できるようになった。この記事では、Skillsとは何か、どのように機能するか、そしてあなた自身のスキルを構築するためのベストプラクティスを共有する。

![スキルを有効にするには、SKILL.mdファイルにエージェントのためのカスタムガイダンスを書くだけでよい。](https://www.anthropic.com/_next/image?url=https%3A%2F%2Fwww-cdn.anthropic.com%2Fimages%2F4zrzovbb%2Fwebsite%2Fddd7e6e572ad0b6a943cacefe957248455f6d522-1650x929.jpg&w=3840&q=75)

スキルは、指示、スクリプト、リソースで構成されたフォルダーを含むSKILL.mdファイルを持つディレクトリで、エージェントに追加の機能を与える。

## スキルの構造

Skillsの動作を確認するため、実際の例を見てみよう。[Claudeが最近リリースしたドキュメント編集機能](https://www.anthropic.com/news/create-files)を支えるスキルの1つだ。ClaudeはすでにPDFの理解について多くを知っているが、それらを直接操作する（例：フォームに記入する）能力には限界がある。この[PDFスキル](https://github.com/anthropics/skills/tree/main/document-skills/pdf)により、Claudeにこれらの新しい機能を与えることができる。

最もシンプルな形では、スキルは`SKILL.md`ファイルを含むディレクトリだ。このファイルは、いくつかの必須メタデータ（`name`と`description`）を含むYAMLフロントマターで始まる必要がある。起動時、エージェントはインストールされたすべてのスキルの`name`と`description`をシステムプロンプトにプリロードする。

このメタデータは、**第1レベル**の_段階的開示_だ。これは、すべてをコンテキストにロードすることなく、各スキルをいつ使用すべきかをClaudeが知るための十分な情報を提供する。このファイルの実際の本文は**第2レベル**の詳細だ。Claudeがスキルが現在のタスクに関連していると判断した場合、完全な`SKILL.md`をコンテキストに読み込むことでスキルをロードする。

![SKILL.mdファイルの構造。関連するメタデータ（name、description、スキルが実行すべき特定のアクションに関連するコンテキスト）を含む。](https://www.anthropic.com/_next/image?url=https%3A%2F%2Fwww-cdn.anthropic.com%2Fimages%2F4zrzovbb%2Fwebsite%2F6f22d8913dbc6228e7f11a41e0b3c124d817b6d2-1650x929.jpg&w=3840&q=75)

SKILL.mdファイルは、ファイル名と説明を含むYAMLフロントマターで始まる必要があり、起動時にシステムプロンプトにロードされる。

スキルが複雑になると、単一の`SKILL.md`に収まりきらないコンテキストや、特定のシナリオでのみ関連するコンテキストが含まれる場合がある。このような場合、スキルはスキルディレクトリ内に追加のファイルをバンドルし、`SKILL.md`から名前で参照できる。これらの追加のリンクされたファイルは**第3レベル**（およびそれ以降）の詳細であり、Claudeは必要に応じてナビゲートして発見できる。

以下に示すPDFスキルでは、`SKILL.md`は2つの追加ファイル（`reference.md`と`forms.md`）を参照しており、スキル作成者はこれらをコアの`SKILL.md`と一緒にバンドルすることを選択している。フォーム記入の指示を別のファイル（`forms.md`）に移動することで、スキル作成者はスキルのコアをスリムに保つことができ、Claudeがフォームに記入する際にのみ`forms.md`を読むことを信頼できる。

![SKILL.mdファイルに追加コンテンツをバンドルする方法。](https://www.anthropic.com/_next/image?url=https%3A%2F%2Fwww-cdn.anthropic.com%2Fimages%2F4zrzovbb%2Fwebsite%2F191bf5dd4b6f8cfe6f1ebafe6243dd1641ed231c-1650x1069.jpg&w=3840&q=75)

システムプロンプトに基づいてClaudeによってトリガーされる追加のコンテキスト（追加ファイル経由）をスキルに組み込むことができる。

段階的開示は、Agent Skillsを柔軟でスケーラブルにするコア設計原則だ。目次から始まり、次に特定の章、最後に詳細な付録へと進む、よく整理されたマニュアルのように、スキルはClaudeが必要に応じて情報をロードできるようにする。

![この画像は、Skillsにおけるコンテキストの段階的開示を示している。](https://www.anthropic.com/_next/image?url=https%3A%2F%2Fwww-cdn.anthropic.com%2Fimages%2F4zrzovbb%2Fwebsite%2Fa3bca2763d7892982a59c28aa4df7993aaae55ae-2292x673.jpg&w=3840&q=75)

ファイルシステムとコード実行ツールを持つエージェントは、特定のタスクに取り組む際に、スキル全体をコンテキストウィンドウに読み込む必要はない。これは、スキルにバンドルできるコンテキストの量が事実上無制限であることを意味する。

### スキルとコンテキストウィンドウ

以下の図は、ユーザーのメッセージによってスキルがトリガーされたときに、コンテキストウィンドウがどのように変化するかを示している。

![この画像は、コンテキストウィンドウでスキルがどのようにトリガーされるかを示している。](https://www.anthropic.com/_next/image?url=https%3A%2F%2Fwww-cdn.anthropic.com%2Fimages%2F4zrzovbb%2Fwebsite%2F441b9f6cc0d2337913c1f41b05357f16f51f702e-1650x929.jpg&w=3840&q=75)

スキルは、システムプロンプトを介してコンテキストウィンドウでトリガーされる。

示されている一連の操作：

1. 開始時、コンテキストウィンドウには、コアシステムプロンプトと、インストールされた各スキルのメタデータ、およびユーザーの最初のメッセージが含まれる。
2. Claudeは、`pdf/SKILL.md`の内容を読み取るためにBashツールを呼び出すことで、PDFスキルをトリガーする。
3. Claudeは、スキルにバンドルされた`forms.md`ファイルを読み取ることを選択する。
4. 最後に、ClaudeはPDFスキルから関連する指示をロードした後、ユーザーのタスクを続行する。

### スキルとコード実行

スキルには、Claudeが自己裁量でツールとして実行できるコードも含めることができる。

大規模言語モデルは多くのタスクに優れているが、特定の操作は従来のコード実行により適している。例えば、トークン生成によるリストのソートは、単にソートアルゴリズムを実行するよりもはるかに高価だ。効率の懸念を超えて、多くのアプリケーションは、コードのみが提供できる決定論的な信頼性を必要とする。

この例では、PDFスキルには、PDFを読み取ってすべてのフォームフィールドを抽出する事前に書かれたPythonスクリプトが含まれている。Claudeは、スクリプトもPDFもコンテキストにロードすることなく、このスクリプトを実行できる。そして、コードは決定論的であるため、このワークフローは一貫性があり再現可能だ。

![この画像は、Skillsを介してコードがどのように実行されるかを示している。](https://www.anthropic.com/_next/image?url=https%3A%2F%2Fwww-cdn.anthropic.com%2Fimages%2F4zrzovbb%2Fwebsite%2Fc24b4a2ff77277c430f2c9ef1541101766ae5714-1650x929.jpg&w=3840&q=75)

Skillsには、タスクの性質に基づいてClaudeが自己裁量でツールとして実行できるコードも含めることができる。

## スキルの開発と評価

スキルの作成とテストを始めるための役立つガイドラインをいくつか紹介する：

- **評価から始める：** 代表的なタスクでエージェントを実行し、エージェントが苦労したり追加のコンテキストを必要としたりする箇所を観察することで、エージェントの能力における特定のギャップを特定する。次に、これらの欠点に対処するためにスキルを段階的に構築する。
- **スケールのための構造化：** `SKILL.md`ファイルが扱いにくくなったら、そのコンテンツを別のファイルに分割して参照する。特定のコンテキストが相互に排他的であるか、めったに一緒に使用されない場合、パスを分離しておくとトークン使用量が削減される。最後に、コードは実行可能なツールとしても、ドキュメントとしても機能できる。Claudeがスクリプトを直接実行すべきか、参照としてコンテキストに読み込むべきかを明確にする必要がある。
- **Claudeの視点から考える：** Claudeが実際のシナリオでスキルをどのように使用するかを監視し、観察に基づいて反復する。予期しない軌跡や特定のコンテキストへの過度の依存に注意する。スキルの`name`と`description`に特に注意を払う。Claudeは、現在のタスクに応答してスキルをトリガーするかどうかを決定する際に、これらを使用する。
- **Claudeと反復する：** Claudeとタスクに取り組むときに、Claudeに成功したアプローチと一般的な間違いをスキル内の再利用可能なコンテキストとコードに捕捉するよう依頼する。スキルを使用してタスクを完了する際に軌道から外れた場合、何が間違っていたかについて自己反省するよう依頼する。このプロセスは、事前に予測しようとするのではなく、Claudeが実際に必要とするコンテキストを発見するのに役立つ。

### Skillsを使用する際のセキュリティ上の考慮事項

Skillsは、指示とコードを通じてClaudeに新しい機能を提供する。これにより強力になるが、悪意のあるスキルが使用される環境に脆弱性を導入したり、Claudeにデータを流出させたり、意図しないアクションを実行させたりする可能性もある。

信頼できるソースからのみスキルをインストールすることを推奨する。信頼性の低いソースからスキルをインストールする場合は、使用前に徹底的に監査する。スキルにバンドルされたファイルの内容を読んで、それが何をするかを理解することから始め、コードの依存関係や画像やスクリプトなどのバンドルされたリソースに特に注意を払う。同様に、Claudeに信頼できない可能性のある外部ネットワークソースに接続するよう指示するスキル内の指示やコードに注意を払う。

## Skillsの未来

Agent Skillsは、[Claude.ai](http://claude.ai/redirect/website.v1.21712abf-0776-4cc4-bbcc-c668f7eeb0b7)、Claude Code、Claude Agent SDK、Claude Developer Platformで[今日サポートされている](https://www.anthropic.com/news/skills)。

今後数週間で、スキルの作成、編集、発見、共有、使用のライフサイクル全体をサポートする機能を追加し続ける。特に、組織や個人がClaudeとコンテキストやワークフローを共有するのにSkillsが役立つ機会に興奮している。また、外部ツールやソフトウェアを含むより複雑なワークフローをエージェントに教えることで、Skillsが[Model Context Protocol](https://modelcontextprotocol.io/)（MCP）サーバーをどのように補完できるかも探求する。

さらに先を見据えると、エージェントが独自にスキルを作成、編集、評価できるようにし、独自の動作パターンを再利用可能な機能に体系化できるようにしたいと考えている。

Skillsはシンプルなコンセプトで、それに対応するシンプルなフォーマットを持っている。このシンプルさにより、組織、開発者、エンドユーザーがカスタマイズされたエージェントを構築し、新しい機能を与えることが容易になる。

人々がSkillsで何を構築するかを見るのを楽しみにしている。今日から、Skillsの[ドキュメント](https://docs.claude.com/en/docs/agents-and-tools/agent-skills/overview)と[クックブック](https://github.com/anthropics/claude-cookbooks/tree/main/skills)をチェックして始めよう。

## 謝辞

Barry Zhang、Keith Lazuka、Mahesh Muragによって書かれた。彼らは皆、フォルダーが本当に好きだ。Skillsを支持し、サポートし、構築したAnthropic全体の多くの人々に特別な感謝を。

## 開発者ニュースレターを受け取る

製品の更新情報、ハウツー、コミュニティのスポットライトなど。毎月あなたの受信トレイに配信される。

毎月の開発者ニュースレターを受け取りたい場合は、メールアドレスを入力してください。いつでも配信停止できます。

